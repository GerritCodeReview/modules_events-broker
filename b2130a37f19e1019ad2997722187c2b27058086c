{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "bce6607b_c1091593",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 9,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-31T09:46:04Z",
      "side": 1,
      "message": "Perhaps this is misleading:\ninstanceId *might* be populated by the gerrit core, it is always optional.",
      "range": {
        "startLine": 9,
        "startChar": 22,
        "endLine": 9,
        "endChar": 59
      },
      "revId": "b2130a37f19e1019ad2997722187c2b27058086c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea57aa2a_7ff9f6e1",
        "filename": "src/main/java/com/gerritforge/gerrit/eventbroker/EventDeserializer.java",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-31T09:46:04Z",
      "side": 1,
      "message": "I am a bit confused by this,\nI thought this change was going to eliminate completely the need for EventMessage and that only Event is going to be published/consumed.",
      "range": {
        "startLine": 35,
        "startChar": 4,
        "endLine": 35,
        "endChar": 66
      },
      "revId": "b2130a37f19e1019ad2997722187c2b27058086c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "64a036b0_6ca57af3",
        "filename": "src/main/java/com/gerritforge/gerrit/eventbroker/EventDeserializer.java",
        "patchSetId": 4
      },
      "lineNbr": 44,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-31T09:46:04Z",
      "side": 1,
      "message": "I am trying to understand this bit.\n`event.instanceId` is populated by the @GerritInstanceId, this might be null.\n\n`event.header.sourceInstanceId` is populated by @InstanceId, the generated multi-site data, this is never null.\n\nSo if I get this right, we are saying: \"if the gerrit server that produced this message didn\u0027t have any serverId, backfill it with the source id of the multi-site node that produced the EventMessage\"\n\nAre we abusing the `event.instanceId` by populating it with multi-site data?\nWhat\u0027s the purpose of this? if Events can be generated by gerrit with an empty id, shouldn\u0027t we just cope with this when deserializing?",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 44,
        "endChar": 17
      },
      "revId": "b2130a37f19e1019ad2997722187c2b27058086c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}